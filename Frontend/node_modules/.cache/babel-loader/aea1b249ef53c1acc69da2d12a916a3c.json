{"ast":null,"code":"import { useEffect } from 'react';\nimport { isBrowser, off, on } from './misc/util';\nimport useRafState from './useRafState';\n\nvar useWindowScroll = function () {\n  var _a = useRafState(function () {\n    return {\n      x: isBrowser ? window.pageXOffset : 0,\n      y: isBrowser ? window.pageYOffset : 0\n    };\n  }),\n      state = _a[0],\n      setState = _a[1];\n\n  useEffect(function () {\n    var handler = function () {\n      setState(function (state) {\n        var pageXOffset = window.pageXOffset,\n            pageYOffset = window.pageYOffset; //Check state for change, return same state if no change happened to prevent rerender\n        //(see useState/setState documentation). useState/setState is used internally in useRafState/setState.\n\n        return state.x !== pageXOffset || state.y !== pageYOffset ? {\n          x: pageXOffset,\n          y: pageYOffset\n        } : state;\n      });\n    }; //We have to update window scroll at mount, before subscription.\n    //Window scroll may be changed between render and effect handler.\n\n\n    handler();\n    on(window, 'scroll', handler, {\n      capture: false,\n      passive: true\n    });\n    return function () {\n      off(window, 'scroll', handler);\n    };\n  }, []);\n  return state;\n};\n\nexport default useWindowScroll;","map":{"version":3,"sources":["D:/monkeyfruad/node_modules/react-use/esm/useWindowScroll.js"],"names":["useEffect","isBrowser","off","on","useRafState","useWindowScroll","_a","x","window","pageXOffset","y","pageYOffset","state","setState","handler","capture","passive"],"mappings":"AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,SAASC,SAAT,EAAoBC,GAApB,EAAyBC,EAAzB,QAAmC,aAAnC;AACA,OAAOC,WAAP,MAAwB,eAAxB;;AACA,IAAIC,eAAe,GAAG,YAAY;AAC9B,MAAIC,EAAE,GAAGF,WAAW,CAAC,YAAY;AAAE,WAAQ;AACvCG,MAAAA,CAAC,EAAEN,SAAS,GAAGO,MAAM,CAACC,WAAV,GAAwB,CADG;AAEvCC,MAAAA,CAAC,EAAET,SAAS,GAAGO,MAAM,CAACG,WAAV,GAAwB;AAFG,KAAR;AAG9B,GAHe,CAApB;AAAA,MAGQC,KAAK,GAAGN,EAAE,CAAC,CAAD,CAHlB;AAAA,MAGuBO,QAAQ,GAAGP,EAAE,CAAC,CAAD,CAHpC;;AAIAN,EAAAA,SAAS,CAAC,YAAY;AAClB,QAAIc,OAAO,GAAG,YAAY;AACtBD,MAAAA,QAAQ,CAAC,UAAUD,KAAV,EAAiB;AACtB,YAAIH,WAAW,GAAGD,MAAM,CAACC,WAAzB;AAAA,YAAsCE,WAAW,GAAGH,MAAM,CAACG,WAA3D,CADsB,CAEtB;AACA;;AACA,eAAOC,KAAK,CAACL,CAAN,KAAYE,WAAZ,IAA2BG,KAAK,CAACF,CAAN,KAAYC,WAAvC,GACD;AACEJ,UAAAA,CAAC,EAAEE,WADL;AAEEC,UAAAA,CAAC,EAAEC;AAFL,SADC,GAKDC,KALN;AAMH,OAVO,CAAR;AAWH,KAZD,CADkB,CAclB;AACA;;;AACAE,IAAAA,OAAO;AACPX,IAAAA,EAAE,CAACK,MAAD,EAAS,QAAT,EAAmBM,OAAnB,EAA4B;AAC1BC,MAAAA,OAAO,EAAE,KADiB;AAE1BC,MAAAA,OAAO,EAAE;AAFiB,KAA5B,CAAF;AAIA,WAAO,YAAY;AACfd,MAAAA,GAAG,CAACM,MAAD,EAAS,QAAT,EAAmBM,OAAnB,CAAH;AACH,KAFD;AAGH,GAxBQ,EAwBN,EAxBM,CAAT;AAyBA,SAAOF,KAAP;AACH,CA/BD;;AAgCA,eAAeP,eAAf","sourcesContent":["import { useEffect } from 'react';\r\nimport { isBrowser, off, on } from './misc/util';\r\nimport useRafState from './useRafState';\r\nvar useWindowScroll = function () {\r\n    var _a = useRafState(function () { return ({\r\n        x: isBrowser ? window.pageXOffset : 0,\r\n        y: isBrowser ? window.pageYOffset : 0,\r\n    }); }), state = _a[0], setState = _a[1];\r\n    useEffect(function () {\r\n        var handler = function () {\r\n            setState(function (state) {\r\n                var pageXOffset = window.pageXOffset, pageYOffset = window.pageYOffset;\r\n                //Check state for change, return same state if no change happened to prevent rerender\r\n                //(see useState/setState documentation). useState/setState is used internally in useRafState/setState.\r\n                return state.x !== pageXOffset || state.y !== pageYOffset\r\n                    ? {\r\n                        x: pageXOffset,\r\n                        y: pageYOffset,\r\n                    }\r\n                    : state;\r\n            });\r\n        };\r\n        //We have to update window scroll at mount, before subscription.\r\n        //Window scroll may be changed between render and effect handler.\r\n        handler();\r\n        on(window, 'scroll', handler, {\r\n            capture: false,\r\n            passive: true,\r\n        });\r\n        return function () {\r\n            off(window, 'scroll', handler);\r\n        };\r\n    }, []);\r\n    return state;\r\n};\r\nexport default useWindowScroll;\r\n"]},"metadata":{},"sourceType":"module"}